--- a/fs/proc/array.c
+++ b/fs/proc/array.c
@@ -430,6 +430,7 @@ static int do_task_stat(struct seq_file
 	unsigned long rsslim = 0;
 	char tcomm[sizeof(task->comm)];
 	unsigned long flags;
+	int exit_code = task->exit_code;
 	struct signal_struct *sig = task->signal;
 	unsigned int seq = 1;
 
